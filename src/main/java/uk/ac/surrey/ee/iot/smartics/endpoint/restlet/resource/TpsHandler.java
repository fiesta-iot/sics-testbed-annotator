package uk.ac.surrey.ee.iot.smartics.endpoint.restlet.resource;

import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import java.io.IOException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.xml.bind.JAXBException;
import org.restlet.Client;
import org.restlet.Context;
import org.restlet.data.MediaType;
import org.restlet.data.Protocol;
import org.restlet.representation.Representation;
import org.restlet.representation.StringRepresentation;
import org.restlet.resource.ClientResource;
import org.restlet.resource.Post;
import org.restlet.resource.ResourceException;
import org.restlet.resource.ServerResource;
import uk.ac.surrey.ee.iot.smartics.annotator.FiestaObsAnnotator;
import uk.ac.surrey.ee.iot.smartics.annotator.FiestaResAnnotator;
import uk.ac.surrey.ee.iot.smartics.model.fiesta.message.TpsRequest;
import uk.ac.surrey.ee.iot.smartics.model.proprietary.Observations;

public class TpsHandler extends ServerResource {

    public String sicsURL = "http://131.227.88.96:5000/";
    public String getLastObservations = "getLastObservations";
    public String getObservations = "getObservations";

//    @Get("txt")
//    public String toString() {
//        return "Account of user \"" + "TEST" + "\"";
//    }
    
    @Post
    public Representation handlePost(Representation entity) throws IOException {
        
        String request = "";
        try{
        request = getRequest().getResourceRef().getPath();
        }catch (NullPointerException e){
        request = "getLastObservations";
        }
        System.out.println("HI:"+ request);
        if (request.endsWith(getLastObservations))
                sicsURL = sicsURL + getLastObservations;
        else 
                sicsURL = sicsURL + getObservations;

        String tpsRequest = entity.getText();
        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);
        String result = getSmartIcsObservation(tpsRequest);
        
        StringRepresentation response = new StringRepresentation(result);
        response.setMediaType(MediaType.valueOf("application/ld+json"));
        response.setCharacterSet(null);


        return response;
    }

    public String getSmartIcsObservation(String tpsRequest) {
        
//        System.out.println("client external TPS request payload:\n" + tpsRequest);

        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);
        objectMapper.configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);
        
        TpsRequest tpsReq = new TpsRequest();
        
        try {
            tpsReq = objectMapper.readValue(tpsRequest, TpsRequest.class);
        } catch (IOException ex) {
            Logger.getLogger(TpsHandler.class.getName()).log(Level.SEVERE, null, ex);
        }
        
        int tpsSize = tpsReq.getSensorIDs().size();
         for (int i=0; i<tpsSize; i++) {
             
             String [] uriSplit = tpsReq.getSensorIDs().get(i).split(FiestaResAnnotator.INDV_NS_PREFIX+FiestaResAnnotator.sensingDevNamePrefix);
             tpsReq.getSensorIDs().set(i, uriSplit[1]);
         }
         
        try {
            tpsRequest = objectMapper.writeValueAsString(tpsReq);
        } catch (JsonProcessingException ex) {
            Logger.getLogger(TpsHandler.class.getName()).log(Level.SEVERE, null, ex);
        }

        final Context context = new Context();
        Client client = new Client(new Context(), Protocol.HTTP);
        client.getContext().getParameters().add("maxConnectionsPerHost", "5");
        client.getContext().getParameters().add("maxTotalConnections", "5");
        client.getContext().getParameters().add("socketTimeout", "120000"); 
        final ClientResource smartIcsClientResource = new ClientResource(context, sicsURL);
        smartIcsClientResource.setNext(client);
        smartIcsClientResource.accept(MediaType.APPLICATION_JSON);
//        System.out.println("formatted local TPS request payload: " + tpsRequest);
        String errorMessage = "";
        try {
            Representation result = smartIcsClientResource
                    .post(new StringRepresentation(tpsRequest, MediaType.APPLICATION_JSON));
            smartIcsClientResource.release();
            try {
                Observations obs = objectMapper.readValue(result.getStream(), Observations.class);
                FiestaObsAnnotator fa = new FiestaObsAnnotator();
                String annotatedObs = fa.annotateObservations(obs);
                return annotatedObs;
            } catch (IOException ioex) {
                Logger.getLogger(TpsHandler.class.getName()).log(Level.SEVERE, null, ioex);
                System.out.println("IO Error....ERROR IS THIS: " + ioex.getLocalizedMessage());
            }
        } catch (ResourceException ex) {
            Logger.getLogger(TpsHandler.class.getName()).log(Level.SEVERE, null, ex);
            System.out.println("ERROR IS THIS: " + ex.getLocalizedMessage());
            errorMessage = ex.getLocalizedMessage();
            System.out.println("client internal TPS request payload:\n" + tpsRequest);
        }
        return errorMessage;

    }

    public static void main(String[] args) throws JAXBException, IOException {

        String test = "{"
                + "\n"
                + "  \"sensorIDs\": [\"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-001-power\"]\n"
                + "}";
//        String test = "{\n" +
//"  \"sensorIDs\" : [ \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-101-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-103-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-078-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-007-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-003-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-065-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-004-battery\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-109-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-025-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-045-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-112-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-098-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-050-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-092-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-012-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-028-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-018-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-110-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-113-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-080-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-058-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-002-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-040-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-082-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-042-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-074-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-049-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-104-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-079-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-073-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-086-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-012-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-074-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-072-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-015-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-091-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-106-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-021-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-005-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-097-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-001-battery\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-047-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-002-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-115-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-001-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-057-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-078-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-061-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-002-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-116-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-017-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-085-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-046-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-087-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-045-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-024-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-076-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-087-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-071-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-079-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-037-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-102-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-053-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-011-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-063-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-010-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-026-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-064-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-053-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-025-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-091-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-049-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-010-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-067-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-090-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-105-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-099-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-041-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-069-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-044-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-059-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-009-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-028-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-104-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-061-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-031-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-084-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-042-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-083-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-066-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-020-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-092-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-098-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-014-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-109-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-003-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-013-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-004-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-055-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-101-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-094-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-013-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-054-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-093-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-016-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-070-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-089-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-009-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-113-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-077-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-048-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-004-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-108-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-004-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-055-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-029-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-100-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-095-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-080-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-015-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-037-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-085-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-011-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-017-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-083-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-023-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-106-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-102-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-020-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-045-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-075-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-082-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-097-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-096-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-069-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-051-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-105-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-063-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-016-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-112-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-022-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-005-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-098-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-091-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-030-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-109-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-029-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-075-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-010-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-050-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-110-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-087-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-040-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-092-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-065-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-028-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-090-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-027-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-068-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-004-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-061-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-051-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-077-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-110-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-107-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-031-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-089-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-027-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-037-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-093-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-101-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-046-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-096-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-024-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-084-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-004-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-042-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-003-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-009-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-047-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-104-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-050-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-001-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-111-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-056-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-090-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-099-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-085-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-082-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-053-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-026-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-003-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-103-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-004-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-057-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-094-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-002-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-108-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-022-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-019-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-102-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-095-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-095-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-001-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-067-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-025-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-081-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-070-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-112-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-002-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-076-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-044-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-107-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-054-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-030-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-019-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-049-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-001-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-058-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-004-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-115-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-116-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-110-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-018-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-098-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-085-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-005-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-045-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-064-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-014-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-078-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-109-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-014-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-031-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-072-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-086-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-047-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-100-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-020-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-093-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-014-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-022-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-041-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-002-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-048-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-018-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-097-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-046-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-022-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-088-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-115-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-001-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-081-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-040-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-080-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-103-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-059-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-075-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-073-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-017-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-059-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-002-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-019-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-081-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-011-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-105-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-002-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-103-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-040-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-104-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-003-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-091-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-067-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-055-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-010-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-099-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-057-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-041-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-083-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-056-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-072-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-014-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-020-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-111-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-086-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-044-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-011-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-094-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-087-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-107-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-030-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-102-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-071-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-006-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-029-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-016-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-003-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-064-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-088-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-059-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-066-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-013-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-113-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-078-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-101-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-092-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-054-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-012-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-012-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-044-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-026-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-093-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-079-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-089-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-001-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-009-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-070-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-008-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-088-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-073-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-042-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-037-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-089-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-003-battery\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-065-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-100-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-027-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-068-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-017-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-046-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-088-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-001-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-106-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-094-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-063-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-015-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-100-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-075-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-028-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-015-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-057-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-063-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-065-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-025-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-115-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-116-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-005-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-003-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-095-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-055-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-058-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-003-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-001-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-077-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-096-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-113-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-017-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-023-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-018-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-011-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-058-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-064-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-056-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-116-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-090-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-056-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-016-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-022-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-096-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-024-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-080-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-084-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-050-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-005-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-010-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-069-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-012-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-029-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-081-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-066-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-071-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-013-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-097-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-023-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-068-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-023-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-041-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-086-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-069-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-047-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-016-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-112-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-051-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-023-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-001-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-073-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-004-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-106-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-054-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-009-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-070-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-018-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-105-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-024-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-002-battery\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-027-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-084-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-079-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sc-004-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-108-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-108-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-019-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-071-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-066-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-076-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-068-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-030-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-111-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-025-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-083-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-107-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-061-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-099-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-049-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-003-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-111-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-048-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-067-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-053-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-077-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-082-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-076-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-020-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-002-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-024-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-015-humid\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-026-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-031-light\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-013-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-sp-019-power\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-048-noise\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-051-temp\", \"http://smart-ics.ee.surrey.ac.uk/fiesta-iot/resource/sc-sics-de-072-humid\" ]\n" +
//"}";

        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);
//        TpsRequest tpsReq = objectMapper.readValue(test, TpsRequest.class);
        TpsHandler tpsH = new TpsHandler();
        Representation rep = new StringRepresentation(test);
        Representation response = tpsH.handlePost(rep);
        System.out.print(response.getText());

//        FiestaObsAnnotator ri = new FiestaObsAnnotator();
//        String result = ri.annotateObservations(obs);
//        System.out.println(result);
    }

}
